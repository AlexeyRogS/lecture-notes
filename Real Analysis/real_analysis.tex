\documentclass[12pt]{report}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx} % use \graphicspath command for subfiles
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{slashed}
\usepackage{subfiles}
\usepackage[nottoc]{tocbibind}
\usepackage{enumerate}
\usepackage{amsthm}
\usepackage{tcolorbox} % can we remove the need for ams proof environment using "after lower" property in tcolorbox?
\tcbuselibrary{skins, breakable}
% https://texblog.org/2015/08/10/changing-font-styles-in-latex/

% page dimensions
\topmargin=0cm
\evensidemargin=0cm
\oddsidemargin=0cm
\textheight=22cm
\textwidth=16cm

% colour styling
\definecolor{darkblue}{rgb}{0.0, 0.2, 0.6}
\definecolor{lightblue}{rgb}{0.8, 0.9, 1}

% custom macros
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\range}{range}
\DeclareMathOperator{\im}{im}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\bracket{\langle}{\rangle}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\newcommand{\ts}{\textsuperscript}
\newcommand{\CC}{\ensuremath{\mathbb{C}}}
\newcommand{\FF}{\ensuremath{\mathbb{F}}}
\newcommand{\NN}{\ensuremath{\mathbb{N}}}
\newcommand{\QQ}{\ensuremath{\mathbb{Q}}}
\newcommand{\RR}{\ensuremath{\mathbb{R}}}
\newcommand{\ZZ}{\ensuremath{\mathbb{Z}}}
\renewcommand{\qedsymbol}{$\blacksquare$}

% theorem / proof / definition / example environments
\newtheoremstyle{theorem}{}{}{\itshape}{}{\bfseries\color{darkblue}}{}{.5em}{}
\newtheoremstyle{def}{}{}{\upshape}{}{\bfseries\color{darkblue}}{.}{.5em}{}
\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{postulate}{Postulate}[chapter]
\newtheorem*{lemma}{Lemma}
\theoremstyle{def}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]

% hack to change colour and style of proof title
\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
    \pushQED{\qed}
    \normalfont \topsep6\p@\@plus6\p@\relax
    \trivlist
    \item\relax
        {\bfseries\color{darkblue}#1\@addpunct{.}}\hspace\labelsep\ignorespaces}{
            \popQED\endtrivlist\@endpefalse
        }
\makeatother

\tcbsetforeverylayer{
    enhanced,
    breakable,
    colback=lightblue,
    boxrule=0pt,
    frame hidden,
    arc=0pt,
}
\tcolorboxenvironment{theorem}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkblue}
}
\tcolorboxenvironment{proof}{
    before skip=0pt,
    colback=white,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkblue}
}
\tcolorboxenvironment{corollary}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkblue}
}
\tcolorboxenvironment{lemma}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkblue}
}
\tcolorboxenvironment{definition}{
    borderline={2pt}{0pt}{darkblue}
}
\tcolorboxenvironment{example}{}

% document metadata
\title{Real Analysis}
\author{Lachlan Dufort-Kennett}

% document structure
\begin{document}

    \maketitle
    \setcounter{tocdepth}{1}
    \tableofcontents

    \chapter*{Preface}
    \addcontentsline{toc}{chapter}{Preface}

    \chapter{Introduction}
    \subfile{chapters/1_introduction}
    \chapter{Notions from Set Theory}
    \subfile{chapters/2_set_theory}
    \chapter{The Real Numbers}
    \subfile{chapters/3_real_numbers}
    \chapter{Sequences}
    \subfile{chapters/4_sequences}
    \chapter{Series}
    \subfile{chapters/5_series}
    \chapter{Continuous Functions}
    \subfile{chapters/6_continuous_functions}
    \chapter{Differentiation}
    \subfile{chapters/7_differentiation}

    \nocite{*}
    \bibliographystyle{plain}
    \bibliography{bibliography}

\end{document}
