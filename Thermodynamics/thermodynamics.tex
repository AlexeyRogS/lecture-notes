\documentclass[12pt]{report}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{graphicx} % use \graphicspath command for subfiles
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{slashed}
\usepackage{subfiles}
\usepackage[nottoc]{tocbibind}
\usepackage{enumerate}
\usepackage{amsthm}
\usepackage{tcolorbox} % can we remove the need for ams proof environment using "after lower" property in tcolorbox?
\tcbuselibrary{skins, breakable}
% https://texblog.org/2015/08/10/changing-font-styles-in-latex/

% page dimensions
\topmargin=0cm
\evensidemargin=0cm
\oddsidemargin=0cm
\textheight=22cm
\textwidth=16cm

% colour styling
\definecolor{darkpurple}{rgb}{0.4, 0, 0.5}
\definecolor{lightpurple}{rgb}{0.9, 0.7, 1}

% custom macros
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\range}{range}
\DeclareMathOperator{\im}{im}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\bracket{\langle}{\rangle}
\DeclarePairedDelimiter\bra{\langle}{\rvert}
\DeclarePairedDelimiter\ket{\lvert}{\rangle}
\newcommand{\ts}{\textsuperscript}
\newcommand{\vect}[1]{\vec{\boldsymbol#1}}
\newcommand{\der}[2]{\ensuremath{\frac{\mathrm{d}#1}{\mathrm{d}#2}}}
\newcommand{\dertwo}[2]{\ensuremath{\frac{\mathrm{d}^2{#1}}{\mathrm{d}{#2}^2}}}
\newcommand{\pder}[2]{\ensuremath{\frac{\partial#1}{\partial#2}}}
\newcommand{\pdertwo}[2]{\ensuremath{\frac{\partial^2{#1}}{\partial{#2}^2}}}
\newcommand{\dbar}{\mathchar'26\mkern-12mu\mathrm{d}}
\newcommand{\ihat}{\hat{\boldsymbol{\imath}}}
\newcommand{\jhat}{\hat{\boldsymbol{\jmath}}}
\newcommand{\khat}{\hat{\boldsymbol{k}}}
\newcommand{\CC}{\ensuremath{\mathbb{C}}}
\newcommand{\FF}{\ensuremath{\mathbb{F}}}
\newcommand{\NN}{\ensuremath{\mathbb{N}}}
\newcommand{\QQ}{\ensuremath{\mathbb{Q}}}
\newcommand{\RR}{\ensuremath{\mathbb{R}}}
\newcommand{\ZZ}{\ensuremath{\mathbb{Z}}}
\renewcommand{\qedsymbol}{$\blacksquare$}

% theorem / proof / definition / example environments
\newtheoremstyle{theorem}{}{}{\itshape}{}{\bfseries\color{darkpurple}}{}{.5em}{}
\newtheoremstyle{def}{}{}{\upshape}{}{\bfseries\color{darkpurple}}{.}{.5em}{}
\theoremstyle{theorem}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem*{lemma}{Lemma}
\theoremstyle{def}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{example}{Example}[chapter]

% hack to change colour and style of proof title
\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
    \pushQED{\qed}
    \normalfont \topsep6\p@\@plus6\p@\relax
    \trivlist
    \item\relax
        {\bfseries\color{darkpurple}#1\@addpunct{.}}\hspace\labelsep\ignorespaces}{
            \popQED\endtrivlist\@endpefalse
        }
\makeatother

\tcbsetforeverylayer{
    enhanced,
    breakable,
    colback=lightpurple,
    boxrule=0pt,
    frame hidden,
    arc=0pt,
}
\tcolorboxenvironment{theorem}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkpurple}
}
\tcolorboxenvironment{proof}{
    before skip=0pt,
    colback=white,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkpurple}
}
\tcolorboxenvironment{corollary}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkpurple}
}
\tcolorboxenvironment{lemma}{
    after skip=0pt,
    left=4mm+2pt,
    borderline west={2pt}{0pt}{darkpurple}
}
\tcolorboxenvironment{definition}{
    borderline={2pt}{0pt}{darkpurple}
}
\tcolorboxenvironment{example}{}

% document metadata
\title{Thermodynamics}
\author{Lachlan Dufort-Kennett}

% document structure
\begin{document}

    \maketitle
    \setcounter{tocdepth}{1}
    \tableofcontents

    \chapter*{Preface}
    \addcontentsline{toc}{chapter}{Preface}

    \chapter{Temperature \& Heat}
    \subfile{chapters/1_temperature_heat}
    \chapter{Kinetic Theory}
    \subfile{chapters/2_kinetic_theory}
    \chapter{Thermodynamic Processes}
    \subfile{chapters/3_thermodynamic_processes}
    \chapter{Entropy}
    \subfile{chapters/4_entropy}
    \chapter{Heat Cycles}
    \subfile{chapters/5_heat_cycles}

    \nocite{*}
    \bibliographystyle{plain}
    \bibliography{bibliography}

\end{document}
